<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title></title>
	</head>
	<style type="text/css">
		*{margin: 0;padding: 0;}
	</style>
	<body>
		
	</body>
	<script type="text/javascript">
		(function(){
			var canvas = document.createElement("canvas");
			canvas.width = window.innerWidth;
			canvas.height = window.innerHeight;
			
			canvas.style.background = 'pink';
			document.body.appendChild(canvas);
			var ctx = canvas.getContext("2d");
			
			ctx.beginPath();
			ctx.moveTo(10,10);
			ctx.lineTo(150,250);ctx.lineTo(50,250);ctx.lineTo(10,50);
			ctx.lineWidth = 10;
			ctx.strokeStyle = "orange";
			ctx.stroke();
			ctx.closePath();
			
			ctx.beginPath();
			ctx.rect(200,300,150,150);
			ctx.fillStyle = "springgreen";
			ctx.fill();
			ctx.strokeStyle = "aqua";
			ctx.stroke();
			ctx.closePath();
			
			var circles = [];
			setInterval(function(){
				ctx.clearRect(0,0,window.innerWidth,window.innerHeight);
				var x = window.innerWidth/2;
				var y = window.innerHeight/2;
				var fillStyle = "rgb("+Math.round(Math.random()*255)+","+Math.round(Math.random()*255)+","+Math.round(Math.random()*255)+")";
//				var x = Math.random()*600+100;
//				var y = Math.random()*400+300;
				var draw = new DrawCircle(x,y,fillStyle);
				circles.push(draw);
				for(var i=0;i<circles.length;i++){
					//对所有的圆点重新绘制
					circles[i].drawCircle();
				}
				
			},100);
			
			function DrawCircle(xPoint, yPoint, color) {
				this.x = xPoint;
				this.y = yPoint;
				this.color = color;
				var ran_x = Math.random()*16-8;
//				var ran_y = Math.random()*16-8;
				var ran_y = 5;
				var gravity = 0.1;
				
				this.drawCircle = function() {
					this.x = this.x + ran_x;
					this.y = this.y - ran_y;
					ran_y = ran_y - gravity;
					ctx.beginPath();
					ctx.arc(this.x, this.y, 10,0,Math.PI*2,true);
//					ctx.fillStyle = "rgb(255,0,0)";
					ctx.fillStyle = this.color;
//					ctx.strokeStyle = "crimson";
					ctx.fill();
//					ctx.stroke();
					ctx.closePath();
				}
			}
			
		})()
		
		
	</script>
</html>
